
The following rules have been activated
 - 2025-04-21 13:21:35,759 - logic_logger - DEBUG
Rule Bank[0x107878860] (loaded 2025-04-21 13:14:10.461592)		##   - 2025-04-21 13:21:35,759 - logic_logger - INFO
Mapped Class[Contraindication] rules:		##   - 2025-04-21 13:21:35,759 - logic_logger - INFO
  Constraint Function: None 		##   - 2025-04-21 13:21:35,759 - logic_logger - INFO
Mapped Class[Patient] rules:		##   - 2025-04-21 13:21:35,759 - logic_logger - INFO
  Derive <class 'database.models.Patient'>.age as Formula (1): <function>		##   - 2025-04-21 13:21:35,759 - logic_logger - INFO
  Constraint Function: None 		##   - 2025-04-21 13:21:35,759 - logic_logger - INFO
Mapped Class[Dosage] rules:		##   - 2025-04-21 13:21:35,759 - logic_logger - INFO
  Derive <class 'database.models.Dosage'>.drug_name as Copy(drug.drug_name)		##   - 2025-04-21 13:21:35,759 - logic_logger - INFO
  Derive <class 'database.models.Dosage'>.drug_type as Copy(drug.drug_type)		##   - 2025-04-21 13:21:35,759 - logic_logger - INFO
Mapped Class[Reading] rules:		##   - 2025-04-21 13:21:35,759 - logic_logger - INFO
  RowEvent Reading.insert_reading_history() 		##   - 2025-04-21 13:21:35,759 - logic_logger - INFO
  RowEvent Reading.fn_recommend_insulin() 		##   - 2025-04-21 13:21:35,759 - logic_logger - INFO
Mapped Class[ReadingHistory] rules:		##   - 2025-04-21 13:21:35,759 - logic_logger - INFO
  RowEvent ReadingHistory.fn_recommend_drug() 		##   - 2025-04-21 13:21:35,759 - logic_logger - INFO
Logic Bank - 14 rules loaded - 2025-04-21 13:21:35,759 - logic_logger - INFO
Logic Bank - 14 rules loaded - 2025-04-21 13:21:35,759 - logic_logger - INFO

Logic Phase:		ROW LOGIC		(session=0x12eb76810) (sqlalchemy before_flush)			 - 2025-04-21 13:51:45,914 - logic_logger - INFO
..ReadingHistory[None] {Insert - client} id: None, patient_id: 513, reading_date: 2025-04-21 00:00:00, breakfast: 213, lunch: 321, dinner: 289, bedtime: 211, notes_for_day: None  row: 0x12eb79a00  session: 0x12eb76810  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:51:45,919 - logic_logger - INFO
Logic Phase:		COMMIT LOGIC		(session=0x12eb76810)   										 - 2025-04-21 13:51:45,947 - logic_logger - INFO
Logic Phase:		AFTER_FLUSH LOGIC	(session=0x12eb76810)   										 - 2025-04-21 13:51:45,961 - logic_logger - INFO
..ReadingHistory[101] {AfterFlush Event} id: 101, patient_id: 513, reading_date: 2025-04-21 00:00:00, breakfast: 213, lunch: 321, dinner: 289, bedtime: 211, notes_for_day: None  row: 0x12eb79a00  session: 0x12eb76810  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:51:45,962 - logic_logger - INFO
..ReadingHistory[101] {metformin} id: 101, patient_id: 513, reading_date: 2025-04-21 00:00:00, breakfast: 213, lunch: 321, dinner: 289, bedtime: 211, notes_for_day: None  row: 0x12eb79a00  session: 0x12eb76810  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:51:45,964 - logic_logger - INFO
..ReadingHistory[101] {row: 101} id: 101, patient_id: 513, reading_date: 2025-04-21 00:00:00, breakfast: 213, lunch: 321, dinner: 289, bedtime: 211, notes_for_day: None  row: 0x12eb79a00  session: 0x12eb76810  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:51:45,965 - logic_logger - INFO
..ReadingHistory[101] {Creating recommendation 1 - 1000 for 513 at breakfast} id: 101, patient_id: 513, reading_date: 2025-04-21 00:00:00, breakfast: 213, lunch: 321, dinner: 289, bedtime: 211, notes_for_day: None  row: 0x12eb79a00  session: 0x12eb76810  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:51:45,966 - logic_logger - INFO
..ReadingHistory[101] {metformin} id: 101, patient_id: 513, reading_date: 2025-04-21 00:00:00, breakfast: 213, lunch: 321, dinner: 289, bedtime: 211, notes_for_day: None  row: 0x12eb79a00  session: 0x12eb76810  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:51:45,975 - logic_logger - INFO
..ReadingHistory[101] {row: 101} id: 101, patient_id: 513, reading_date: 2025-04-21 00:00:00, breakfast: 213, lunch: 321, dinner: 289, bedtime: 211, notes_for_day: None  row: 0x12eb79a00  session: 0x12eb76810  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:51:45,976 - logic_logger - INFO
..ReadingHistory[101] {Creating recommendation 1 - 1000 for 513 at dinner} id: 101, patient_id: 513, reading_date: 2025-04-21 00:00:00, breakfast: 213, lunch: 321, dinner: 289, bedtime: 211, notes_for_day: None  row: 0x12eb79a00  session: 0x12eb76810  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:51:45,977 - logic_logger - INFO
..ReadingHistory[101] {glimepiride} id: 101, patient_id: 513, reading_date: 2025-04-21 00:00:00, breakfast: 213, lunch: 321, dinner: 289, bedtime: 211, notes_for_day: None  row: 0x12eb79a00  session: 0x12eb76810  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:51:45,981 - logic_logger - INFO
..ReadingHistory[101] {row: 101} id: 101, patient_id: 513, reading_date: 2025-04-21 00:00:00, breakfast: 213, lunch: 321, dinner: 289, bedtime: 211, notes_for_day: None  row: 0x12eb79a00  session: 0x12eb76810  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:51:45,982 - logic_logger - INFO
..ReadingHistory[101] {Creating recommendation 2 - 2 for 513 at breakfast} id: 101, patient_id: 513, reading_date: 2025-04-21 00:00:00, breakfast: 213, lunch: 321, dinner: 289, bedtime: 211, notes_for_day: None  row: 0x12eb79a00  session: 0x12eb76810  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:51:45,983 - logic_logger - INFO
..ReadingHistory[101] {tradjenta} id: 101, patient_id: 513, reading_date: 2025-04-21 00:00:00, breakfast: 213, lunch: 321, dinner: 289, bedtime: 211, notes_for_day: None  row: 0x12eb79a00  session: 0x12eb76810  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:51:45,987 - logic_logger - INFO
..ReadingHistory[101] {ozempic} id: 101, patient_id: 513, reading_date: 2025-04-21 00:00:00, breakfast: 213, lunch: 321, dinner: 289, bedtime: 211, notes_for_day: None  row: 0x12eb79a00  session: 0x12eb76810  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:51:45,989 - logic_logger - INFO
..ReadingHistory[101] {farxiga} id: 101, patient_id: 513, reading_date: 2025-04-21 00:00:00, breakfast: 213, lunch: 321, dinner: 289, bedtime: 211, notes_for_day: None  row: 0x12eb79a00  session: 0x12eb76810  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:51:45,991 - logic_logger - INFO

These Rules Fired (see Logic Phases, above, for actual order):		## - 2025-04-21 13:51:45,995 - logic_logger - INFO
  ReadingHistory		## - 2025-04-21 13:51:45,995 - logic_logger - INFO
    1. RowEvent ReadingHistory.fn_recommend_drug() 		## - 2025-04-21 13:51:45,995 - logic_logger - INFO

Logic Phase:		COMPLETE(session=0x12eb76810))       	 - 2025-04-21 13:51:45,995 - logic_logger - INFO

Logic Phase:		ROW LOGIC		(session=0x12e9e63f0) (sqlalchemy before_flush)			 - 2025-04-21 13:55:27,226 - logic_logger - INFO
..Patient[None] {Insert - client} id: None, name: Tyler, birth_date: 1956-05-29 00:00:00, age: None, weight: 210, height: 68, hba1c: 9.00, duration: None, ckd: None, cad: None, hld: None, patient_sex: 1, creatine_mg_dl: 1.20, medical_record_number: 12312313, created_date: None  row: 0x12eae0f50  session: 0x12e9e63f0  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:55:27,230 - logic_logger - INFO
..Patient[None] {server_defaults: created_date } id: None, name: Tyler, birth_date: 1956-05-29 00:00:00, age: None, weight: 210, height: 68, hba1c: 9.00, duration: None, ckd: None, cad: None, hld: None, patient_sex: 1, creatine_mg_dl: 1.20, medical_record_number: 12312313, created_date: None  row: 0x12eae0f50  session: 0x12e9e63f0  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:55:27,241 - logic_logger - INFO
..Patient[None] {Formula age} id: None, name: Tyler, birth_date: 1956-05-29 00:00:00, age: 68, weight: 210, height: 68, hba1c: 9.00, duration: None, ckd: None, cad: None, hld: None, patient_sex: 1, creatine_mg_dl: 1.20, medical_record_number: 12312313, created_date: None  row: 0x12eae0f50  session: 0x12e9e63f0  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:55:27,245 - logic_logger - INFO
Logic Phase:		COMMIT LOGIC		(session=0x12e9e63f0)   										 - 2025-04-21 13:55:27,247 - logic_logger - INFO
Logic Phase:		AFTER_FLUSH LOGIC	(session=0x12e9e63f0)   										 - 2025-04-21 13:55:27,262 - logic_logger - INFO

These Rules Fired (see Logic Phases, above, for actual order):		## - 2025-04-21 13:55:27,263 - logic_logger - INFO
  Patient		## - 2025-04-21 13:55:27,264 - logic_logger - INFO
    1. Derive <class 'database.models.Patient'>.age as Formula (1): <function>		## - 2025-04-21 13:55:27,264 - logic_logger - INFO

Logic Phase:		COMPLETE(session=0x12e9e63f0))       	 - 2025-04-21 13:55:27,264 - logic_logger - INFO

Logic Phase:		ROW LOGIC		(session=0x12ed6fc20) (sqlalchemy before_flush)			 - 2025-04-21 13:56:12,341 - logic_logger - INFO
..ReadingHistory[None] {Insert - client} id: None, patient_id: 523, reading_date: 2025-04-21 00:00:00, breakfast: 200.00, lunch: 250.00, dinner: 300.00, bedtime: 350.00, notes_for_day: None  row: 0x12eae2810  session: 0x12ed6fc20  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:56:12,345 - logic_logger - INFO
Logic Phase:		COMMIT LOGIC		(session=0x12ed6fc20)   										 - 2025-04-21 13:56:12,368 - logic_logger - INFO
Logic Phase:		AFTER_FLUSH LOGIC	(session=0x12ed6fc20)   										 - 2025-04-21 13:56:12,375 - logic_logger - INFO
..ReadingHistory[102] {AfterFlush Event} id: 102, patient_id: 523, reading_date: 2025-04-21 00:00:00, breakfast: 200.00, lunch: 250.00, dinner: 300.00, bedtime: 350.00, notes_for_day: None  row: 0x12eae2810  session: 0x12ed6fc20  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:56:12,378 - logic_logger - INFO
..ReadingHistory[102] {metformin} id: 102, patient_id: 523, reading_date: 2025-04-21 00:00:00, breakfast: 200.00, lunch: 250.00, dinner: 300.00, bedtime: 350.00, notes_for_day: None  row: 0x12eae2810  session: 0x12ed6fc20  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:56:12,385 - logic_logger - INFO
..ReadingHistory[102] {metformin} id: 102, patient_id: 523, reading_date: 2025-04-21 00:00:00, breakfast: 200.00, lunch: 250.00, dinner: 300.00, bedtime: 350.00, notes_for_day: None  row: 0x12eae2810  session: 0x12ed6fc20  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:56:12,386 - logic_logger - INFO
..ReadingHistory[102] {glimepiride} id: 102, patient_id: 523, reading_date: 2025-04-21 00:00:00, breakfast: 200.00, lunch: 250.00, dinner: 300.00, bedtime: 350.00, notes_for_day: None  row: 0x12eae2810  session: 0x12ed6fc20  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:56:12,387 - logic_logger - INFO
..ReadingHistory[102] {tradjenta} id: 102, patient_id: 523, reading_date: 2025-04-21 00:00:00, breakfast: 200.00, lunch: 250.00, dinner: 300.00, bedtime: 350.00, notes_for_day: None  row: 0x12eae2810  session: 0x12ed6fc20  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:56:12,392 - logic_logger - INFO
..ReadingHistory[102] {row: 102} id: 102, patient_id: 523, reading_date: 2025-04-21 00:00:00, breakfast: 200.00, lunch: 250.00, dinner: 300.00, bedtime: 350.00, notes_for_day: None  row: 0x12eae2810  session: 0x12ed6fc20  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:56:12,393 - logic_logger - INFO
..ReadingHistory[102] {Creating recommendation 3 - 5 for 523 at breakfast} id: 102, patient_id: 523, reading_date: 2025-04-21 00:00:00, breakfast: 200.00, lunch: 250.00, dinner: 300.00, bedtime: 350.00, notes_for_day: None  row: 0x12eae2810  session: 0x12ed6fc20  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:56:12,393 - logic_logger - INFO
..ReadingHistory[102] {ozempic} id: 102, patient_id: 523, reading_date: 2025-04-21 00:00:00, breakfast: 200.00, lunch: 250.00, dinner: 300.00, bedtime: 350.00, notes_for_day: None  row: 0x12eae2810  session: 0x12ed6fc20  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:56:12,399 - logic_logger - INFO
..ReadingHistory[102] {row: 102} id: 102, patient_id: 523, reading_date: 2025-04-21 00:00:00, breakfast: 200.00, lunch: 250.00, dinner: 300.00, bedtime: 350.00, notes_for_day: None  row: 0x12eae2810  session: 0x12ed6fc20  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:56:12,400 - logic_logger - INFO
..ReadingHistory[102] {Creating recommendation 7 - 1 for 523 at breakfast} id: 102, patient_id: 523, reading_date: 2025-04-21 00:00:00, breakfast: 200.00, lunch: 250.00, dinner: 300.00, bedtime: 350.00, notes_for_day: None  row: 0x12eae2810  session: 0x12ed6fc20  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:56:12,400 - logic_logger - INFO
..ReadingHistory[102] {farxiga} id: 102, patient_id: 523, reading_date: 2025-04-21 00:00:00, breakfast: 200.00, lunch: 250.00, dinner: 300.00, bedtime: 350.00, notes_for_day: None  row: 0x12eae2810  session: 0x12ed6fc20  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:56:12,402 - logic_logger - INFO
..ReadingHistory[102] {row: 102} id: 102, patient_id: 523, reading_date: 2025-04-21 00:00:00, breakfast: 200.00, lunch: 250.00, dinner: 300.00, bedtime: 350.00, notes_for_day: None  row: 0x12eae2810  session: 0x12ed6fc20  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:56:12,403 - logic_logger - INFO
..ReadingHistory[102] {Creating recommendation 6 - 10 for 523 at breakfast} id: 102, patient_id: 523, reading_date: 2025-04-21 00:00:00, breakfast: 200.00, lunch: 250.00, dinner: 300.00, bedtime: 350.00, notes_for_day: None  row: 0x12eae2810  session: 0x12ed6fc20  ins_upd_dlt: ins, initial: ins - 2025-04-21 13:56:12,403 - logic_logger - INFO

These Rules Fired (see Logic Phases, above, for actual order):		## - 2025-04-21 13:56:12,409 - logic_logger - INFO
  ReadingHistory		## - 2025-04-21 13:56:12,410 - logic_logger - INFO
    1. RowEvent ReadingHistory.fn_recommend_drug() 		## - 2025-04-21 13:56:12,410 - logic_logger - INFO

Logic Phase:		COMPLETE(session=0x12ed6fc20))       	 - 2025-04-21 13:56:12,410 - logic_logger - INFO
